---
title: 2.7.基本引用类型（Date）
author: Ana-Ana
date: 2022-08-10
tags: [javascriptBase]
categories: ["JavaScript","引用类型"]
render_with_liquid: true
layout: post
pin: true
---
### 日期 Date

​		Date类型将日期保存为 <u>自协调世界时（UTC，UNiversal Time Coordinated）</u>：1970年1月1日00时至今所经历的毫秒数。

1. 创建

   - `new Date` — ①无参数，获取创建时日期时间；②或传递日期 时间的 <u>毫秒数</u>

   若想传入指定日期的值，而不是毫秒数，有两个辅助函数：

   - `Date.parse()` — 接受字符串
     - 格式： ①``"mouth/day/year"`` ②`mouthEnglish day,year` ③`weekEnglish mouthEnglish day year h:m:s 时区 `
     - 直接传 字符串给Date("May 22,22")也会调用Date.parse()
     - 字符串不能代表日期，返回NaN
   - `Date.UTC(year, mouth, [day, h, m, s, ms])` — 基于本地时区
     - 年份、月份为必须
     - 月份从0开始，日期从1开始，小时从0开始

   创建一个新`Date`对象的唯一方法是通过[`new`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new) 操作符，例如：`let now = new Date();` 若将它作为常规函数调用（即不加 [`new`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new) 操作符），将返回一个字符串，而非 `Date` 对象。

```js
const time = new Date();
console.log(typeof time); //Object
console.log(time * 1);	// 时间戳

const time1 = Date()
console.log(typeof time1); //string
console.log(time1 * 1);	// NaN
```

2. 其他操作

| 转化为字符串 |                |                     |                            |
| ------------ | -------------- | ------------------- | -------------------------- |
|              | 普通字符串     | 系统区域设置格式    | 特殊地区时间               |
| 日期         | toDateString() | toLocalDateString() | toUTCString() 全球标准时间 |
| 时间         | toTimeString() | toLocalTimeString() | toGMTString() 格林威治时间 |

​	以上方法输出的时间格式因浏览器而异，不能用于在用户界面上一致地显示日期

| 转为时间戳             |                        |
| ---------------------- | ---------------------- |
| 标准时间对象 * 1       | Number(标准时间对象)   |
| 标准时间对象.valueOf() | 标准时间对象.gerTime() |

**时间戳转为标准时间对象** — new Date(时间戳)

> toString 和 toLocaleString 的区别
>
> **1.当数字是四位数及以上时，有区别**
>
> ​	toLocaleString()会让数字三位三位一分隔
>
> **2.当目标是标准时间格式时，有区别**
>
> sd.toLocaleString()
> "2017/2/15 上午11:21:31"
>
> sd.toString()
> "Wed Feb 15 2017 11:21:31 GMT+0800 (CST)"

3. 查询脚本执行时间

- 定义标志位：console.time("for")
- 定义结束标志位： console.timeEnd("for")

**格式化时间对象**

```js
function dateFormat(date, format = 'YYYY年MM月DD日 HH:mm:ss'){
    const config = {
        YYYY: date.getFullYear(),
        MM: date.getMonth(),
        DD: date.getDate(),
        HH: date.getHours(),
        mm: date.getMinutes(),
        ss: date.getSeconds()
    };
    for(const key in config){
        format = format.replace(key, config[key]);
    }
    console.log(format);
    return format;
}
const time = new Date();
let time3 = dateFormat(time)   // 2022年7月30日 17:38:48
```

**日期对象比较大小：毫秒数**

```js
let lastDay = new Date()
let toDay = new Date()
lastDay < toDay  // 距离1970年的毫秒数比较
```

> 时间封装 第三方库
>
> www.momentjs.cm