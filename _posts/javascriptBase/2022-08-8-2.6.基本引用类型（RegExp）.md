---
title: 2.6.基本引用类型（RegExp）
author: Ana-Ana
date: 2022-08-08
tags: [javascriptBase]
categories: ["JavaScript","引用类型"]
render_with_liquid: true
layout: post
pin: true
---
## 正则表达式 RegExp

​	声明和定义：`/pattern/flages` 或 `new RegExp("pattern","tage")`

1. tage ：

   - `g`：全局模式，查找全部内容
   - `i`：不区分大小写
   - `m`：多行模式，查找到第一行文本末尾还会继续
   - `y`：粘附模式，只查到从lastIndex开始之后的字符串
   - `u`：Unicode模式
   - `s`：dotAll 模式，表示元字符.匹配任何字符。`/s`出现空白就匹配； `/S`非空白就匹配；`[/s/S]`换行完全匹配

2. 元字符转义

   在RegExp构造函数中，两个参数都是字符串，所以元字符需要二次转义

3. 实例属性：提供模式的各方面信息

   1. global：Boolean，是否设置了g标志
   2. ignoreCase：Boolean，是否设置了i标志
   3. unicode：Boolean，是否设置了u标志
   4. sticky：Boolean，是否设置了y标志
   5. lastIndex：int，源字符串在下次搜索的开始位置，始终从0开始
   6. multiline：Boolean，是否设置了m标志 
   7. dotAll：Boolean，是否这是了s标志
   8. source：正则实例的`pattern`（字面量）
   9. flags：标记字符串，始终以字面量而非传入构造函数的字符串形势返回（没有前后斜杠）

4. 实例方法：`exec()` 配合捕获组，接受要查找的目标字符串

   - 存在匹配项，返回第一个匹配信息的数组；

     - 返回值是Array实例，但包含两个额外属性：`index`  和 `input`
       - `index `表示模式匹配的起始位置； `input `是查找到的字符串
     - Array实例，第一个元素包含 <u>匹配整个模式的字符串</u>，其他元素包含 <u>表达式中捕获组匹配的字符串</u>；如果没有捕获组，就只有一个元素
       - 捕获组 `pattern = /妈妈(和爸爸(和孩子)?)?/gi`  和 ‘妈妈和爸爸和孩子’，存在三个元素
         1. array[0] = 妈妈和爸爸和孩子
         2. array[1] = 和爸爸和孩子
         3. array[2] = 和孩子

   - 不存在匹配项，返回null

   - 不同的tage在exce下的表现

     - 没有设置全局变量，只会返回第一个匹配项，lastIndex不变；

       设置了全局变量，每次调用`exec`都在字符串向前搜索下一个匹配项，lastIndex每次都会变化，直至末尾

     - 设置粘附模式，每次只会在lastIndex的位置上寻找匹配项；

       找不到匹配项，exce() 返回 null，lastIndex = 0

5. 实例方法： `test()`只在乎输入是否有效，而不在乎内容且无什么无效

6. 构造函数方法（静态属性）：提取`exec()`和 `test()`执行的操作相关信息

   ![javascript_regexp_静态方法](../assets/img/JavaScriptBase.assets/javascript_regexp_静态方法.jpg)

   + `$1 - $9` ：取出存储的9个捕获组匹配项

   使用方法：

```javascript
const pattern = /hort/g;
const text = 'this has been a short summer' 
RegExp.input;  // this has been a short summer
 = RegExp.&_;
RegExp.leftContext; // this has been a
 = RegExp[$`]; //`
RegExp.rightContext; // summer
 = RegExp[$']
RegExp.$1; //'and dad and baby'
```
